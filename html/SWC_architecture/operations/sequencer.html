

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4.7. Sequencer &mdash; GMT Software And Controls documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/additional_style.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="GMT Software And Controls documentation" href="../../index.html"/>
        <link rel="up" title="4. Observatory Operation System" href="observatory_operations.html"/>
        <link rel="next" title="4.8. Laser AO Operations Safety" href="laser_ao_safety.html"/>
        <link rel="prev" title="4.6. Scheduling System" href="scheduling_system.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GMT Software And Controls
          

          
            
            <img src="../../_static/logowhite.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../release_notes/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Architecture and Design</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction/swcs_introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../requirements/requirements.html">2. Requirements Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/overall_architecture.html">3. Overall Architecture</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="observatory_operations.html">4. Observatory Operation System</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="overview.html">4.1. Operations Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="deployment.html">4.2. Operations Deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="subsystems.html">4.3. Operations Subsystems</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_interface.html">4.4. Operations User Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="observing_tools.html">4.5. Observing Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="scheduling_system.html">4.6. Scheduling System</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">4.7. Sequencer</a></li>
<li class="toctree-l3"><a class="reference internal" href="laser_ao_safety.html">4.8. Laser AO Operations Safety</a></li>
<li class="toctree-l3"><a class="reference internal" href="quality_monitoring.html">4.9. Quality Monitoring System</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_archiving.html">4.10. Data Archiving System</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_processing.html">4.11. Data Processing System</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tcs/tcs_introduction.html">5. Telescope Control System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/observatory_services.html">6. Observatory Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/component_frameworks.html">7. Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platform/platform.html">8. Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process/process_introduction.html">9. Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../risks/risks.html">10. Software and Control Risks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bibliography/bibliography.html">11. Bibliography</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../SWC_standards/index.html">Software and Controls Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software_development/index.html">Software Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_products/index.html">Data Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/swc_sys_glossary.html">Software and Controls Acronyms and Definitions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GMT Software And Controls</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Architecture and Design</a> &raquo;</li>
        
          <li><a href="observatory_operations.html">4. Observatory Operation System</a> &raquo;</li>
        
      <li>4.7. Sequencer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sequencer">
<span id="id1"></span><h1>4.7. Sequencer<a class="headerlink" href="#sequencer" title="Permalink to this headline">¶</a></h1>
<p>Activities scheduled for execution involve Sequences. Sequencing can greatly
facilitate operational efficiency of highly complex systems whose subsystems
must be orchestrated to operate in parallel or in series. The derived
requirements for the Sequencing system are shown in Table 10-39. A sequence
contains events that must be triggered in order to accomplish an activity (e.g.,
observation execution, instrument switch).</p>
<table border="1" class="docutils" id="id2">
<caption><span class="caption-number">Table 4.5 </span><span class="caption-text">SWCS Sequencing Requirements (Level 3)</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><div class="first last line-block">
<div class="line">Title</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Statement</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Sequence Automation</div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provide the capability to arrange commands in a way that</div>
<div class="line">allows users to automate the execution of complex operations.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Synchronous Instrument</div>
<div class="line">Operation</div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provide the capability to automate the observing</div>
<div class="line">activities that require multiple instruments operating</div>
<div class="line">synchronously or simultaneously.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Automated Start-up/</div>
<div class="line">Shut-down Procedures</div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provide the capability to execute start-up and shutdown</div>
<div class="line">processes that are initiated and monitored under</div>
<div class="line">operator control.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Observing Mode</div>
<div class="line">Switching</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provide the capability to switch from one observing</div>
<div class="line">mode to another.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Acquisition Efficiencies</div>
<div class="line">for Observing Modes</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provide the capability to complete target acquisition</div>
<div class="line">in Natural Seeing, LTAO, NGSAO, LGSAO, NGLAO, and</div>
<div class="line">reacquisition in all modes, within the time budgets</div>
<div class="line">specified in the GMT Efficiency Budget</div>
<div class="line">(GMT-SE-REF-00593).</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Telescope Optical</div>
<div class="line">Configuration Switching</div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provide the capability to switch from one telescope</div>
<div class="line">optical configuration to another in an automated way</div>
<div class="line">for any active instruments.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Automated Instrument</div>
<div class="line">Switching</div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provide the capability to automate the switching of</div>
<div class="line">the active instrument set during the night initiated</div>
<div class="line">and monitored by the operator.</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Sequencers are often implemented via a hierarchical pattern: high-level
sequencers control subordinated sequencers and so on. This makes complexity
manageable, because there is only loose coupling between different
subsystems/sequences. However, this approach makes it difficult to ensure that
different threads, which might allow for parallel execution, can synchronize at
different levels of the hierarchy. It also makes it difficult to visualize the
execution status of every subsystem at any given moment in time.</p>
<p>For example, in a science observing sequence, a workflow is stored as a sequence
template in the Observing Sequence Template Database. The workflow stages –
target acquisition, target exposure, image calibration, etc. – are each refined
into sequences of steps. During observing preparation or runtime, a user (an
astronomer or an operator) defines parameters needed to execute the appropriate
commands.</p>
<p>A Sequence template has Rules and Validations. Rules are conditions that have to
be met during the execution of the sequence. They are different from observatory
rules as they are only in place during the execution of the sequence.
Validations ensure conformance between the parameters of the sequence and the
sequence template.</p>
<p>During operations, it is often useful to monitor the status of certain
operations. To aid in the comprehension of the system, a graphical tool allows
editing, visualizing and executing a sequence in a two-dimensional arrangement.
The graphical tool allows direct access to any parameter or command of the
sequence. Any modification can be stored as a snapshot and recalled later. This
feature is especially useful during commissioning. The tool also allows an
operator to retrigger any command directly without the need to re-run or restart
the sequence.</p>
<p>In this approach the sequence is not generated automatically from the Sequence
Definition parameters, as this would require the generator to know about any
arbitrary combination of instrument, AO mode, and telescope observing modes.
Instead, a browser-based observation definition tool is generated specific to
each sequence template, showing what is appropriate for that sequence. The tool
allows the observatory staff to create and commission new sequence templates
that address new or refined observing modes. Doing so does not involve overhead
costs to rewrite a sequence generator or to edit a sequence, which is normally
not operator friendly or human readable, or is error prone. The SWCS runtime
allows access to the software component’s metadata; this enables one to obtain
information about the definition of any command, property or parameter of the
system when creating new sequences.</p>
<p>In order to facilitate the commissioning of observing sequences and to provide
the operators with the flexibility to react to unexpected scenarios during the
execution of an observation, the Sequencer provides the following capabilities:</p>
<blockquote>
<div><ul class="simple">
<li>Several sequences can be in execution simultaneously</li>
<li>Sequence parameters can be modified in the middle of sequence execution</li>
<li>Steps of the sequence can be re executed in an arbitrary order</li>
<li>Sequence snapshots allow a modified sequence to be stored as a new sequence
template</li>
<li>The master sequence panel enables visualization of all the sequences being
executed at the observatory in a given moment. Each sequence has a set of
resources that are required. Concurrent sequences cannot share resources
that are exclusive</li>
<li>Step by step execution mode</li>
<li>Command by command execution mode</li>
<li>Support for parallel execution of commands</li>
<li>Ability to pause a sequence and re-execute a previous command with a new
input value</li>
<li>Partial re-execution</li>
<li>Rules that monitor the state of the system and trigger actions can be
defined per sequence</li>
<li>Default parameters per sequence</li>
</ul>
</div></blockquote>
<p><a class="reference internal" href="#observatory-operations-entities"><span class="std std-numref">Figure 4.16</span></a> provides a class diagram
of the main components of the observatory operations architecture. The behavior
of predefined operation sequences is captured using Sequence Templates. Examples
of sequences include engineering, diagnostic, calibration or observation tasks,
among others. Sequence templates are stored in a database and are organized
according several categories like “target instrument” or “observing mode.”</p>
<div class="figure" id="id3">
<span id="observatory-operations-entities"></span><img alt="../../_images/observatory_operations_entities.png" src="../../_images/observatory_operations_entities.png" />
<p class="caption"><span class="caption-number">Fig. 4.16 </span><span class="caption-text">Observatory Operation Main Modeling Entities</span></p>
</div>
<p>While sequence templates capture the behavior of the observation, observation
instance parameters of the sequence are captured as <em>Sequence Definitions</em>
composed of <em>Sequence Parameters</em>. Sequence parameters are created with the
assistance of Observing Tools during Phase I and Phase II. Sequence definitions
are paired with sequence templates and are stored in the Operations Database,
which constitutes the observatory backlog.</p>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="laser_ao_safety.html" class="btn btn-neutral float-right" title="4.8. Laser AO Operations Safety" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="scheduling_system.html" class="btn btn-neutral" title="4.6. Scheduling System" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.2-6',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>