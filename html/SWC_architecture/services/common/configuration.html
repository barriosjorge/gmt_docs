

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6.2.8. Configuration Service &mdash; GMT Software And Controls documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/additional_style.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="GMT Software And Controls documentation" href="../../../index.html"/>
        <link rel="up" title="6.2. Common Services" href="../common.html"/>
        <link rel="next" title="6.2.9. On-Line Documentation Service" href="on-line_documentation.html"/>
        <link rel="prev" title="6.2.7. Networking Infrastructure Service" href="networking_infrastructure.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> GMT Software And Controls
          

          
            
            <img src="../../../_static/logowhite.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes/index.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Architecture and Design</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction/swcs_introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../requirements/requirements.html">2. Requirements Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/overall_architecture.html">3. Overall Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/observatory_operations.html">4. Observatory Operation System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tcs/tcs_introduction.html">5. Telescope Control System</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../observatory_services.html">6. Observatory Services</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../architecture.html">6.1. Service Architecture</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../common.html">6.2. Common Services</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="engineering_UI.html">6.2.1. <em>Engineering User Interface Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="command_execution.html">6.2.2. <em>Command Execution Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="system_supervisor.html">6.2.3. <em>System Supervisor Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="telemetry.html">6.2.4. <em>Telemetry Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="alarm.html">6.2.5. <em>Alarm Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="logging.html">6.2.6. <em>Logging Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="networking_infrastructure.html">6.2.7. <em>Networking Infrastructure Service</em></a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">6.2.8. <em>Configuration Service</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="on-line_documentation.html">6.2.9. <em>On-Line Documentation Service</em></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../frameworks/component_frameworks.html">7. Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platform/platform.html">8. Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../process/process_introduction.html">9. Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../risks/risks.html">10. Software and Control Risks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bibliography/bibliography.html">11. Bibliography</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../SWC_standards/index.html">Software and Controls Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_development/index.html">Software Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data_products/index.html">Data Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/swc_sys_glossary.html">Software and Controls Acronyms and Definitions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">GMT Software And Controls</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Architecture and Design</a> &raquo;</li>
        
          <li><a href="../observatory_services.html">6. Observatory Services</a> &raquo;</li>
        
          <li><a href="../common.html">6.2. Common Services</a> &raquo;</li>
        
      <li>6.2.8. <em>Configuration Service</em></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configuration-service">
<span id="services-configuration"></span><h1>6.2.8. <em>Configuration Service</em><a class="headerlink" href="#configuration-service" title="Permalink to this headline">¶</a></h1>
<p>The properties/behaviors of all controlled Subsystems and Components are
stored as sets of static properties or metadata in a Configuration Database.
Operators or subsystem specialists need to change these properties, so it is
not convenient to have them hardcoded. Instead, configuration service manages
and modifies the behavior of the subsystems and components. Configurations can
be changed as a whole, depending on the operation mode (e.g., different values
on limits may be used for testing and calibration than during nominal
operation). These properties are loaded during startup, but may be changed
individually during the execution of the system (e.g., using a new look-up
table to apply error mapping correction in a motion control system).</p>
<p>The GMT SWC is composed of a large number of Subsystems and several thousand
Component instances. Some Components are identical, such as the 6 positioners
of the seven M2 segments. The behavior of the Controller of each positioner is
the same and is implemented as a class, which is a specialization of
<em>BaseController</em>. However, the configuration properties of each segment position
Controller are different for each instance. As a result, the configuration
service has to be able to manage efficiently a large number of configuration
properties. As a general rule, there will be at least a default configuration
for each component instance. It would be possible to create new configuration
snapshots on-the-fly once a property is changed interactively.</p>
<p>Each Subsystem is required to implement a Configuration Adapter, which is a
specialization of the <em>BaseConfigurationAdapter</em>. The Configuration Adapter
interfaces with the Configuration Service to receive new configuration requests
and implements the configuration strategy sequence. The change in configuration
Properties of a Component depends on the state of the component, and not all the
Properties can be changed in any state. For example, servo gain cannot be
changed when a Controller is performing a motion in normal operation mode or the
readout gain of a detector cannot be changed in the middle of a readout
operation.</p>
<p>The SWCS requirements on Configuration Services are shown in the following Table:</p>
<table border="1" class="docutils" id="id1">
<caption><span class="caption-number">Table 6.11 </span><span class="caption-text">SWCS Configuration Service Requirements (Level 3)</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><div class="first last line-block">
<div class="line">Requirement</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Statement</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">SWC Observing Mode</div>
<div class="line">Switching</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provide the capability to switch from one observing mode</div>
<div class="line">to another.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">SWC Telescope Optical</div>
<div class="line">Configuration Switching</div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provide capability to switch from one telescope optical</div>
<div class="line">configuration to another in an automatic way for any</div>
<div class="line">active instruments.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">SWC Automated</div>
<div class="line">Instrument Switching</div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provide capability to automate the switching of the active</div>
<div class="line">instrument set during the night initiated and monitored by</div>
<div class="line">the operator.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Software Component</div>
<div class="line">Configuration</div>
<div class="line">Parameters</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provide the capability to associate a set of configuration</div>
<div class="line">parameters with any software component.</div>
<div class="line"><br /></div>
</div>
</td>
</tr>
</tbody>
</table>
<p><strong>Service Features and Properties</strong></p>
<blockquote>
<div><p>The Configuration Service provides the ability to store properties, to group
them into sets called configurations, to view the current properties used by
a Subsystem, and to consult the available configuration for a Subsystem
(e.g., default configuration, calibration configuration).</p>
<p>At least one predefined configuration for each GMT subsystem must exist,
named the <em>default</em>. This configuration is loaded when a subsystem starts
and enters the state setup (The Section on <a class="reference internal" href="../../frameworks/device_control.html#controller-state-machine"><span class="std std-ref">Controller State Machine</span></a>
explains the different states of a component). Although the Configuration
Service checks to see if the value of a property is the correct range, it is
the responsibility of the Subsystem or Component to check the correctness
and consistency with predefined configurations before is applied. Individual
property changes are allowed, but can only be saved as part of an existing
or new configuration if the user has the appropriate permission.
Configuration and Property changes are always logged to facilitate debugging
in case of a malfunction.</p>
<p>Properties that represent physical magnitudes must specify their units and
the data type. Only units defined as <em>UnitType</em>, and data types defined as
<em>DataTypes</em> in the metamodel can be used in the definition of a property
metadata.</p>
</div></blockquote>
<p><strong>Service Packages</strong></p>
<blockquote>
<div><p><em>Service Package</em> -</p>
<blockquote>
<div><p>A configuration server system, deployed in several machines, takes care of
receiving configuration request and updates, storing or sending them to
components that made the requests.</p>
<p>In addition to handling configuration properties, the configuration server
provides features that allow the management of load balancing and fault
tolerance. The configuration service operation, as any other component can
be monitored by the telemetry system by specifying monitoring</p>
</div></blockquote>
<p><em>Visualization Package</em> -</p>
<blockquote>
<div><p>The visualization package provides custom panels that allow observatory
operators to monitor and manage the configuration service, shown in the
following table:</p>
<blockquote>
<div><table border="1" class="docutils" id="id2">
<caption><span class="caption-number">Table 6.12 </span><span class="caption-text">Configuration Service Visualization Panels</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><div class="first last line-block">
<div class="line">Visualization Panel</div>
</div>
</th>
<th class="head"><div class="first last line-block">
<div class="line">Description</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Global Panel</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provides an overall view of the status of the configuration service. The</div>
<div class="line">following information will be displayed:</div>
<div class="line"><br /></div>
<div class="line-block">
<div class="line">* State of each server component</div>
<div class="line-block">
<div class="line">(e.g., RUNNING, STOPPED, FAULT)</div>
</div>
<div class="line">* State of each adapter component</div>
<div class="line-block">
<div class="line">(e.g., RUNNING, STOPPED, FAULT)</div>
</div>
<div class="line">* Overall view of the system health, one box per subsystem color coded:</div>
<div class="line-block">
<div class="line">- green: No active alarms</div>
<div class="line">- yellow: No serious active alarms</div>
<div class="line">- red: Critical alarm active</div>
</div>
</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Navigation Panel</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provides a way to navigate all the configuration servers and adapters. From the</div>
<div class="line">navigation panel the state and detailed info of every server and adapter can be</div>
<div class="line">accessed. The Navigation Panel allows also browsing efficiently all</div>
<div class="line">configurations of the GMT software components.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Guide Panel</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Displays the on line documentation of the configuration service. Allows access</div>
<div class="line">to the user guide as well as the metadata (model information) of the runtime</div>
<div class="line">objects.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="first last line-block">
<div class="line">Analytics Panel</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">Provides access to the runtime statistics of the configuration service.</div>
<div class="line">These should include at least.</div>
<div class="line-block">
<div class="line">* Number and state (running/stopped/fault)</div>
<div class="line">* Instant throughput of the system</div>
<div class="line">* Configuration changes/sec</div>
<div class="line">* Total data bandwidth</div>
<div class="line">* Storage capacity (used/available)</div>
</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="first last line-block">
<div class="line">Service Editor Panel</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">The Configuration Editor Panel provides the capability to edit the values of</div>
<div class="line">the properties of a configuration. It also enables to save, copy, or delete the</div>
<div class="line">configuration of any given component.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p><strong>Service Deployment</strong></p>
<blockquote>
<div>The Configuration Supervisor is deployed in one of the SCC in the electronic
room. The Supervisor has access to a permanent store and is available to all
runtime components through the service bus.</div></blockquote>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="on-line_documentation.html" class="btn btn-neutral float-right" title="6.2.9. On-Line Documentation Service" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="networking_infrastructure.html" class="btn btn-neutral" title="6.2.7. Networking Infrastructure Service" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.1-5',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>