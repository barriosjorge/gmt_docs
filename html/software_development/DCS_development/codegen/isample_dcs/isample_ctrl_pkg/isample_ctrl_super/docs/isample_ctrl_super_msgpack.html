

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.3.3.4. isample_ctrl_super_msgpack.h &mdash; GMT Software And Controls documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../../../../../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../../../../_static/css/additional_style.css" type="text/css" />
  

  

  
    <link rel="top" title="GMT Software And Controls documentation" href="../../../../../../../index.html"/>
        <link rel="up" title="3.3.3. DCS Control Supervisor Files" href="../index.html"/>
        <link rel="next" title="3.3.3.5. isample_ctrl_super_run.cpp" href="isample_ctrl_super_run.html"/>
        <link rel="prev" title="3.3.3.3. isample_ctrl_super.cpp" href="isample_ctrl_super_cpp.html"/> 

  
  <script src="../../../../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../../../../index.html" class="icon icon-home"> GMT Software And Controls
          

          
            
            <img src="../../../../../../../_static/logowhite.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../release_notes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../system_level_PDR/index.html">Architecture and Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../SWCS_Standards/index.html">Software and Controls Standards</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../../../index.html">Software Development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../../../installation.html">1. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../configuration.html">2. Developer Info and Release Configuration</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../../../index.html">3. DCS Development</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../../../introduction/introduction.html">3.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../specification/specification.html">3.2. DCS specification example: <em>isample_dcs</em></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../../codegen.html">3.3. DCS code generation example: <em>isample_dcs</em></a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../../index.html">3.3.1. DCS Subsystem files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index.html">3.3.2. DCS Control Package Files</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../index.html">3.3.3. DCS Control Supervisor Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../isample_filter_wheel_ctrl/index.html">DCS Filter Wheel Controller Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../isample_hw_adapter/index.html">DCS Hardware Adapter Files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../model_elements/elements.html">3.4. Model Elements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../services.html">4. Using the Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../examples.html">5. Running Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../dcs_dev_guide.html">6. Creating a Device Control System (TBR)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../contribute.html">7. Contribute</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../../../../index.html">GMT Software And Controls</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../../../../index.html">Software Development</a> &raquo;</li>
      
          <li><a href="../../../../../index.html">3. DCS Development</a> &raquo;</li>
      
          <li><a href="../../../../codegen.html">3.3. DCS code generation example: <em>isample_dcs</em></a> &raquo;</li>
      
          <li><a href="../index.html">3.3.3. DCS Control Supervisor Files</a> &raquo;</li>
      
    <li>3.3.3.4. <em>isample_ctrl_super_msgpack.h</em></li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../../../_sources/software_development/DCS_development/codegen/isample_dcs/isample_ctrl_pkg/isample_ctrl_super/docs/isample_ctrl_super_msgpack.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="isample-ctrl-super-msgpack-h">
<span id="isample-ctrl-super-msgpack"></span><h1>3.3.3.4. <em>isample_ctrl_super_msgpack.h</em><a class="headerlink" href="#isample-ctrl-super-msgpack-h" title="Permalink to this headline">¶</a></h1>
<p>The Hardware Developers Kit (HDK) is a hardware platform
that embodies a basic Device Control System that complies
with the GMT DCS Reference Architecture (RA)</p>
<div class="literal-block-wrapper container" id="code-isample-ctrl-super-msgpack-h">
<div class="code-block-caption"><span class="caption-number">Listing 28 </span><span class="caption-text">Code: <em>isample_ctrl_super_msgpack.h</em></span><a class="headerlink" href="#code-isample-ctrl-super-msgpack-h" title="Permalink to this code">¶</a></div>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="cp">#ifndef _isample_ctrl_super_msgpack_h_</span>
<span class="cp">#define _isample_ctrl_super_msgpack_h_</span>

<span class="cp">#include</span> <span class="cpf">&lt;msgpack.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;../../../cpp/isample_dcs_port_types.h&quot;</span><span class="cp"></span>

<span class="k">struct</span> <span class="n">isample_ctrl_super_conf</span> <span class="p">{</span>
    <span class="k">struct</span> <span class="n">PropertyConf</span>        <span class="n">properties</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">StateVarConf</span>        <span class="n">state_vars</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">InputPortConf</span>       <span class="n">input_ports</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">OutputPortConf</span>      <span class="n">output_ports</span><span class="p">;</span>
    <span class="n">MSGPACK_DEFINE_MAP</span><span class="p">(</span><span class="n">properties</span><span class="p">,</span> <span class="n">state_vars</span><span class="p">,</span> <span class="n">input_ports</span><span class="p">,</span> <span class="n">output_ports</span><span class="p">)</span>
<span class="p">};</span>

<span class="c1">// Property related data types</span>
<span class="k">struct</span> <span class="n">PropertyConf</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span>          <span class="n">uri_path</span><span class="p">;</span>            <span class="c1">// Uri path for the component</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span>          <span class="n">host</span><span class="p">;</span>                <span class="c1">// Default host for deployment.</span>
    <span class="kt">int</span>                  <span class="n">port</span><span class="p">;</span>                <span class="c1">// Default configuration port</span>
    <span class="kt">int</span>                  <span class="n">rate</span><span class="p">;</span>                <span class="c1">// The update rate of the controller loop. In each iteration of the loop the controller must update its estimation of the state variables, if necessary with the use of and estimation model, must calculate the control output, if necessary wiht a control model and must assess the health of the system under control and of its own operation</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span>          <span class="n">acl</span><span class="p">;</span>                 <span class="c1">// Access Control List. List of namespaces that can issue a command to the controller. TBC</span>
    <span class="n">MSGPACK_DEFINE_MAP</span><span class="p">(</span><span class="n">uri_path</span><span class="p">,</span> <span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">rate</span><span class="p">,</span> <span class="n">acl</span><span class="p">)</span>
<span class="p">};</span>

<span class="c1">// State variables related properties</span>

<span class="k">struct</span> <span class="n">ops_state_prop</span> <span class="p">{</span>
    <span class="n">OperationalState</span> <span class="k">default</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">url</span><span class="p">;</span>
    <span class="n">MSGPACK_DEFINE_MAP</span><span class="p">(</span><span class="k">default</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">sim_mode_prop</span> <span class="p">{</span>
    <span class="n">SimulationMode</span> <span class="k">default</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">url</span><span class="p">;</span>
    <span class="n">MSGPACK_DEFINE_MAP</span><span class="p">(</span><span class="k">default</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">control_mode_prop</span> <span class="p">{</span>
    <span class="n">ControlMode</span> <span class="k">default</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">url</span><span class="p">;</span>
    <span class="n">MSGPACK_DEFINE_MAP</span><span class="p">(</span><span class="k">default</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">StateVarConf</span> <span class="p">{</span>
    <span class="n">ops_state_prop</span>       <span class="n">ops_state</span><span class="p">;</span>           <span class="c1">// Operational Mode State Variable</span>
    <span class="n">sim_mode_prop</span>        <span class="n">sim_mode</span><span class="p">;</span>            <span class="c1">// Simulation Mode State Variable</span>
    <span class="n">control_mode_prop</span>    <span class="n">control_mode</span><span class="p">;</span>        <span class="c1">// Control Mode State Variable</span>
    <span class="n">MSGPACK_DEFINE_MAP</span><span class="p">(</span><span class="n">ops_state</span><span class="p">,</span> <span class="n">sim_mode</span><span class="p">,</span> <span class="n">control_mode</span><span class="p">)</span>
<span class="p">};</span>

<span class="c1">// Input port related properties</span>

<span class="k">struct</span> <span class="n">heartbeat_in_prop</span> <span class="p">{</span>
    <span class="n">HeartBeatEvent</span> <span class="k">default</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span>   <span class="n">protocol</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span>   <span class="n">url</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span>   <span class="n">blocking_mode</span><span class="p">;</span>
    <span class="kt">uint8_t</span>       <span class="n">rate</span><span class="p">;</span>
    <span class="n">MSGPACK_DEFINE_MAP</span><span class="p">(</span><span class="k">default</span><span class="p">,</span> <span class="n">protocol</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">blocking_mode</span><span class="p">,</span> <span class="n">rate</span><span class="p">)</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">InputPortConf</span> <span class="p">{</span>
    <span class="n">heartbeat_in_port</span>          <span class="n">heartbeat_in</span><span class="p">;</span>        <span class="c1">// HMI operation buttons</span>
    <span class="n">MSGPACK_DEFINE_MAP</span><span class="p">(</span><span class="n">heartbeat_in</span><span class="p">)</span>
<span class="p">};</span>

<span class="c1">// Output port related properties</span>

<span class="k">struct</span> <span class="n">heartbeat_out_prop</span> <span class="p">{</span>
    <span class="n">HeartBeatEvent</span> <span class="k">default</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span>   <span class="n">protocol</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span>   <span class="n">url</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span>   <span class="n">blocking_mode</span><span class="p">;</span>
    <span class="kt">uint8_t</span>       <span class="n">rate</span><span class="p">;</span>
    <span class="n">MSGPACK_DEFINE_MAP</span><span class="p">(</span><span class="k">default</span><span class="p">,</span> <span class="n">protocol</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">blocking_mode</span><span class="p">,</span> <span class="n">rate</span><span class="p">)</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">OutputPortConf</span> <span class="p">{</span>
    <span class="n">heartbeat_out_port</span>         <span class="n">heartbeat_out</span><span class="p">;</span>       <span class="c1">// Hearbeat signal</span>
    <span class="n">MSGPACK_DEFINE_MAP</span><span class="p">(</span><span class="n">heartbeat_out</span><span class="p">)</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="c1">// _isample_ctrl_super_msgpack_h_</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="isample_ctrl_super_run.html" class="btn btn-neutral float-right" title="3.3.3.5. isample_ctrl_super_run.cpp" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="isample_ctrl_super_cpp.html" class="btn btn-neutral" title="3.3.3.3. isample_ctrl_super.cpp" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../../../../',
            VERSION:'1.0-rc1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>